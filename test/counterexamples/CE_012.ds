-- Dtor is called on value of incorrect type

data Nat : CBV { Z, S(Nat) };
data Bool : CBV { True, False };
codata FunNatNat : CBN { ApNN(Nat)[Nat] };
codata FunBoolNat : CBN { ApBN(Bool)[Nat] };

def fail[*] := cocase { ApNN(n)[*] => S(n) }.ApBN(True)[*];